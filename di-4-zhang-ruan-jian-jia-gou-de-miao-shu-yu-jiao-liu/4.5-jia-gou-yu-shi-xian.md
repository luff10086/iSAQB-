# 4.5架构与实现

总有那么一个时候，你必须将你的软件架构变为现实——换句话说，你的架构描述和逐步细化要被实现为可执行代码 6 。关于如何进行这种映射的有记录的规范和规则是极其有用的。例如，像“UML 组件 XY 应被实现为具有适当接口的 Java 类”，或者“我们使用以下的 makefile 来生成 C 可执行文件”，或者“对于我们的项目，我们使用来自 Sun/Oracle 的 Java EE 代码结构规范和构建策略，类似于 Duke 的银行示例（并带有参考）”这样的规范。\
这些规范和规则是否构成架构的一部分（你的责任），或者你是否与开发团队合作并且在那里创建规则，这取决于项目的组织方式。特别是在大型项目和组织中，它们通常是设计和实现活动的一部分，并且在人员配置方面，位于那里。在较小的团队中，这往往会有不同的处理方式。规则表述的程度和形式因项目而异，但规则在开发阶段以及后续软件维护期间总是会对你有所帮助。

作为一个简要的例子，以下部分提供了来自我们的示例 CoCoME 系统的摘录。

#### &#xD;4.5.1 示例实现

CoCoME 系统遵循一些简单的实现规则：\
• 设计\
CoCoME 代码遵循特定的定义结构，以确保各个软件构建块能够容易地被定位。CoCoME 的 UML 组件各自映射到 Java 包。组件提供的接口构成了各自 Java 包的一部分。这些接口的 Java 实现类在每种情况下都包含在一个总是被称为“impl”的子包中。CoCoME 图表可以相应地映射到这个代码结构。CoCoME 代码结构的一个示例在图 4 - 22 中展示。\
• 构建\
CoCoME 使用 Ant 和一个 Ant 构建文件（build.xml）来构建整个项目。Ant 目标可用于翻译和打包。结果是一个 CoCoME.jar 文件。\
• 运行\
CoCoME.jar 文件可以通过控制台直接使用“java...”启动。Ant 构建文件也为此目的包含了一个准备好的 Ant 目标。CoCoME 的一些基本设置可以在 cocome.properties 文件中配置 - 例如，客户和商店的数量。关于这一点的更多细节可以在 readme.txt 文件、代码注释和基于 Javadoc 的 CoCoME 代码文档中找到。

图4-22Sample CoCoME Java文件
